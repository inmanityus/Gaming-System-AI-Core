# Complex Task Management Rules
# Include this in your main .cursorrules file

## ğŸ¯ TRIGGER CONDITIONS

Apply Complex Task Management Process when:
- Task estimated to take **more than 1 hour**
- User explicitly says **"collaborate with other models"**
- Task involves **multiple subsystems** (database, API, frontend)
- You feel task is **too complex** to tackle directly
- Task requires **significant architectural changes**

## ğŸ“‹ MANDATORY PROCESS

### 1. SEQUENTIAL THINKING ANALYSIS
```typescript
// ALWAYS start with sequential thinking
mcp_sequential-thinking_sequentialthinking({
  thought: "Analyzing task requirements and breaking into subtasks...",
  thoughtNumber: 1,
  totalThoughts: 10,
  nextThoughtNeeded: true
})
```

### 2. CREATE TRACKING FILES

Create in `docs/` folder:
- `[FEATURE]-TASKS.md` - Task breakdown
- `[FEATURE]-PROGRESS.md` - Progress tracker with milestones
- `.logs/[FEATURE]-progress.log` - Continuous logging

### 3. PEER CODE REVIEW

For **ALL** code changes:
```typescript
// 1. Write code (you)
// 2. Get peer review (OpenRouter)
mcp_openrouterai_chat_completion({
  messages: [{
    role: "system",
    content: "You are a senior engineer doing code review."
  }, {
    role: "user",
    content: "Review this code: [CODE]\n\nFocus on: architecture, security, performance, edge cases, quality"
  }],
  model: "anthropic/claude-3.5-sonnet"
})
// 3. Review feedback and implement improvements (you)
// 4. Document decisions
```

### 4. HOURLY MILESTONES

For tasks > 1 hour:
- Create conservative hourly milestones
- Write clear deliverables per milestone
- After completing milestone N, **automatically generate and start milestone N+1**
- **Continue until all tasks complete** (unless told to stop)

### 5. TESTING REQUIREMENTS

**EVERY task must include**:

**A. Automated Tests**
- Unit tests
- Integration tests
- E2E tests (if applicable)

**B. End-User Testing (MANDATORY for frontends)**
Test iteratively after each increment:
- âœ… Look & Feel
- âœ… Content correctness
- âœ… Backend data validation
- âœ… Functionality
- âœ… Button clicks
- âœ… Form submissions
- âœ… Email sends (check MailHog)
- âœ… Logical flows
- âœ… Error handling
- âœ… Edge cases

### 6. CONSTANT LOGGING

Update `.logs/[FEATURE]-progress.log` every 5-10 minutes:
```
[DateTime] Action performed
[DateTime] Decision made
[DateTime] Issue encountered
[DateTime] Milestone completed
```

## ğŸš¨ CRITICAL RULES

1. âŒ **NEVER** skip sequential thinking analysis
2. âŒ **NEVER** skip peer code review
3. âŒ **NEVER** skip testing (automated + end-user)
4. âŒ **NEVER** stop logging (crash protection)
5. âœ… **ALWAYS** generate next milestone after completing one
6. âœ… **ALWAYS** continue to next milestone (unless told to stop)
7. âœ… **ALWAYS** test iteratively (don't accumulate untested code)

## ğŸ“Š PROGRESS REPORTING

**After Each Milestone**:
```
ğŸ¯ MILESTONE [N] COMPLETE
   Duration: [Actual] vs [Estimated]
   Tasks: [X] of [Y]
   Next: Starting Milestone [N+1]...
```

**When Complete**:
```
ğŸ‰ PROJECT COMPLETE
   Total: [Hours], [Tasks], [Milestones]
   Status: [Production Ready / Needs X]
```

## ğŸ“ FILE STRUCTURE

```
docs/
  [FEATURE]-TASKS.md         # Task breakdown
  [FEATURE]-PROGRESS.md      # Progress tracker
.logs/
  [FEATURE]-progress.log     # Continuous logging
```

## ğŸ”„ WORKFLOW

1. Sequential thinking â†’ Task breakdown
2. Create tracking files
3. Define Milestone 1
4. Implement â†’ Peer review â†’ Finalize
5. Test (automated + end-user)
6. Log progress
7. Complete milestone
8. **Auto-generate and start Milestone 2**
9. Repeat until all tasks complete

## ğŸ’¡ REMEMBER

- Be **conservative** in estimates
- **Log constantly** (crash protection)
- **Test iteratively** (don't wait)
- **Continue automatically** (unless told to stop)
- **Document decisions** (why things were done)

---

**Full Documentation**: See `docs/Complex-Tasks.md`

**Example**: The Functional Areas Overhaul project successfully used this approach:
- 12 milestones in 120 minutes
- 6,300 lines of production-ready code
- Zero technical debt
- Comprehensive testing
- Peer reviewed
- 100% completion rate



