# NATS Server Configuration with TLS
port: 4222
http_port: 8222

# Cluster configuration
cluster {
  name: "gaming-system-nats"
  port: 6222
  
  # TLS for cluster communication
  tls {
    cert_file: "/etc/nats/certs/server-cert.pem"
    key_file: "/etc/nats/certs/server-key.pem"
    ca_file: "/etc/nats/certs/ca-cert.pem"
    verify: true
  }
  
  routes: [
    nats://nats-node-1:6222
    nats://nats-node-2:6222
    nats://nats-node-3:6222
    nats://nats-node-4:6222
    nats://nats-node-5:6222
  ]
}

# Client TLS
tls {
  cert_file: "/etc/nats/certs/server-cert.pem"
  key_file: "/etc/nats/certs/server-key.pem"
  ca_file: "/etc/nats/certs/ca-cert.pem"
  verify: true
  timeout: 3
}

# JetStream
jetstream {
  store_dir: "/data/jetstream"
  max_memory_store: 1GB
  max_file_store: 10GB
}

# Logging
debug: false
trace: false
logtime: true
log_file: "/var/log/nats/nats-server.log"
